<!DOCTYPE html>

<html>
<head>
 <title>{title} - ZeroNet</title>
 <meta charset="utf-8" />
 <meta http-equiv="content-type" content="text/html; charset=utf-8" />
 <link rel="stylesheet" href="/uimedia/all.css?rev={rev}" />
 <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
 {meta_tags}
</head>
<body style="{body_style}" class="{themeclass}">

<div class="unsupported" id="unsupported">
 <script nonce="{script_nonce}">document.getElementById('unsupported').style.display = "none"</script>
 <h3>ZeroNet requires JavaScript support.</h3>If you use NoScript/Tor browser: Click on toolbar icon with the notification and choose "Temp. TRUSTED" for 127.0.0.1.
</div>

<script nonce="{script_nonce}">
// If we are inside iframe escape from it
if (window.self !== window.top) {
	window.open(window.location.toString().replace(/([&?])wrapper=False/, "$1").replace(/&$/, "").replace(/[&?]wrapper_nonce=[A-Za-z0-9]+/, ""), "_top");
	window.stop();
	document.execCommand("Stop", false);
}

// We are opened as a parent-window
else if (window.opener && window.opener.location.toString()) {
	document.write("Opened as child-window, stopping...");
	window.stop();
	document.execCommand("Stop", false);
}
</script>

<div class="progressbar">
 <div class="peg"></div>
</div>

<!-- Fixed button -->
<div class='fixbutton'>
 <div class='fixbutton-text'><img width=22 style="filter:brightness(3)" src='data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20height%3D%22512%22%20viewBox%3D%220%200%20361.7784%20512%22%20width%3D%22361.77841%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3ClinearGradient%20id%3D%22a%22%20gradientUnits%3D%22userSpaceOnUse%22%20x1%3D%22305.654149209%22%20x2%3D%2255.2765539803%22%20y1%3D%22176.02726946%22%20y2%3D%22332.482101735%22%3E%3Cstop%20offset%3D%220%22%20stop-color%3D%22%239563f9%22%2F%3E%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23b073ec%22%2F%3E%3C%2FlinearGradient%3E%3ClinearGradient%20id%3D%22b%22%20gradientUnits%3D%22userSpaceOnUse%22%20x1%3D%2223.561723335%22%20x2%3D%22179.792158241%22%20y1%3D%22239.83092636561%22%20y2%3D%2291.7286553457%22%3E%3Cstop%20offset%3D%220%22%20stop-color%3D%22%239764f8%22%2F%3E%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23b576e9%22%2F%3E%3C%2FlinearGradient%3E%3ClinearGradient%20id%3D%22c%22%20gradientUnits%3D%22userSpaceOnUse%22%20x1%3D%22169.669343595%22%20x2%3D%22161.79050762561%22%20y1%3D%22384.093496605%22%20y2%3D%22494.796198645%22%3E%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23965ff9%22%2F%3E%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23c076e9%22%2F%3E%3C%2FlinearGradient%3E%3Cg%20fill-rule%3D%22evenodd%22%20stroke-width%3D%22.24933%22%3E%3Cpath%20d%3D%22m-.00000041%20301.93913v-196.37263l180.93908041-105.5665%20180.83934%20104.71877-43.71759%2081.20692-137.09682-84.94687-93.124907%2055.10202v95.04475z%22%20fill%3D%22url%28%23b%29%22%2F%3E%3Cpath%20d%3D%22m361.62883%20210.0858v196.37263l-180.86428%20105.54157-180.6398852-104.59411%2054.6981052-69.51083%20125.94178%2073.15105%2093.05011-55.15188v-94.99489z%22%20fill%3D%22url%28%23c%29%22%2F%3E%3Cpath%20d%3D%22m.1246648%20407.40589%20361.6537552-211.33246v-91.35466l-361.77842041%20211.28259z%22%20fill%3D%22url%28%23a%29%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E'/></div>
 <div class='fixbutton-burger'>&#x2261;</div>
 <a class='fixbutton-bg' href="{homepage}/"></a>
</div>

<!-- Notifications -->
<div class='notifications'>
 <div class='notification template'><span class='notification-icon'>!</span> <span class='body'>Test notification</span><a class="close" href="#Close">&times;</a><div style="clear: both"></div></div>
</div>

<!-- Infopanel -->
<div class='infopanel-container'>
 <div class='infopanel'>
  <span class='closed-num'>8</span>
  <div class="message">
   <span class='line line-1'>8 modified files</span><br><span class='line line-2'>content.json, data.json</span>
  </div>
  <a href="#Publish" class="button button-submit">Sign & Publish</a>
  <a href="#Close" class="close">&times;</a>
 </div>
</div>

<!-- Loadingscreen -->
<div class='loadingscreen'>
 <a href="/Config" class="loading-config">Config</a>
 <div class='loading-text console'>
 </div>
 <div class="flipper-container">
  <div class="flipper"> <div class="front"></div><div class="back"></div> </div>
 </div>
</div>


<!-- Site Iframe -->
<iframe src='about:blank' id='inner-iframe' sandbox="allow-forms allow-scripts allow-top-navigation allow-popups allow-modals allow-presentation allow-pointer-lock allow-popups-to-escape-sandbox {sandbox_permissions}" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true" oallowfullscreen="true" msallowfullscreen="true"></iframe>

<!-- Site info -->
<script id="script_init" nonce="{script_nonce}">
iframe_src = "{file_url}{query_string}"
console.log("Changing url from " + document.getElementById("inner-iframe").src + " to " + iframe_src)
document.getElementById("inner-iframe").src = document.getElementById("inner-iframe").src  // Workaround for Firefox back button bug
document.getElementById("inner-iframe").src = iframe_src
address = "{address}"
wrapper_nonce = "{wrapper_nonce}"
wrapper_key = "{wrapper_key}"
ajax_key = "{ajax_key}"
postmessage_nonce_security = {postmessage_nonce_security}
file_inner_path = "{file_inner_path}"
permissions = {permissions}
show_loadingscreen = {show_loadingscreen}
server_url = '{server_url}'
script_nonce = '{script_nonce}'

if (typeof WebSocket === "undefined") {
	tag = document.createElement('div');
	tag.innerHTML += "<div class='unsupported'>Your browser does not support <a href='https://caniuse.com/#search=websocket'>WebSocket connections</a>.<br>Please use the latest <a href='http://outdatedbrowser.com'>Chrome or Firefox</a> browser.</div>";
	document.body.appendChild(tag)
}
</script>
<script type="text/javascript" src="/uimedia/all.js?rev={rev}&lang={lang}" nonce="{script_nonce}"></script>
<script nonce="{script_nonce}">setTimeout(window.wrapper.onWrapperLoad, 1)</script>
</body>
</html>
